# 2026-01-28

## [16:30] areas — M08 audit implementation
- **Files:** `convex/areas.ts`, `components/areas/area-card.tsx`, `components/areas/area-create-modal.tsx`, `app/(dashboard)/areas/[id]/edit/page.tsx`
- **Why:** Audit de M08 reveló gaps críticos de seguridad (auth guards faltantes), validación (nombres únicos), y UX (batch count hardcoded). Implementados fixes críticos e importantes.
- **Commit:** `99933e4`, `7f6f34c`, `82d57d9`

**Cambios implementados:**
1. Auth guards en todas las mutations (create, update, updateStatus, remove)
2. Validación de nombre único por instalación en create/update
3. Query getBatchCount para mostrar conteo real de lotes en cards
4. Mensajes de error mejorados mostrando errores del backend

**Pendiente:**
- Error boundaries (menor prioridad)
- Paginación en lista (menor prioridad)
- Lazy loading de tabs (menor prioridad)
- Campos de auditoría created_by/updated_by (menor prioridad)
